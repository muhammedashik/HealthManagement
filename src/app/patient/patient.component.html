<app-home></app-home>
<div class="row m-2">
    <div class="col-2">
        <app-sidebar></app-sidebar>
    </div>
    <div class="col-9">
        <div class="row ">
            <div class=" col-6 text-center mousPointer " (click)="this.visible = 1">Add Patient</div>
            <div class=" col-6 text-center mousPointer bg-light" (click)="this.visible = 2">Add List</div>
            <div class="col-12" *ngIf="visible==1 ">
                
                    <form #form="ngForm">
                        <div class="row">
                        <div class=" col-6 mb-3">
                          <label  class="form-label">Patient Name <span class="text-danger">*</span></label>
                          <input type="test" class="form-control" name="pName" [(ngModel)]="model.Patient_name" 
                           required #pName="ngModel" [class.is-invalid]="pName.invalid && pName.touched">
                           <small class="text-danger" [class.d-none]="pName.valid || pName.untouched">Patient Name
                            is required </small>
                        </div>
                        <div class="col-6 mb-3">
                          <label  class="form-label">Mobile No <span class="text-danger">*</span></label>
                          <input type="text" class="form-control" name="Mobile" [(ngModel)]="model.mobile_No" required #number ="ngModel"
                          pattern="^\d{10}$"
                          [class.is-invalid] ="number.invalid && number.touched">
                          <div *ngIf="number.errors && (number.invalid || number.touched)">
                            <small
                              class="text-danger"
                              *ngIf="number.errors.required && number.touched">
                              Mobile Number is required
                            </small>
                            <small class="text-danger" *ngIf="number.errors.pattern">
                              Mobile Number must be 10 digits
                            </small>
                          </div>
                        </div>
                        <div class=" col-6 mb-3 ">
                            <label class="form-label" >Appointment Date<span class="text-danger">*</span></label>
                           <input type="date" class="form-control" name="date" [(ngModel)]="model.appointment_data">
                          
                        </div>
                        <div class=" col-6 mb-3">
                            <label  class="form-label">Address</label>
                            <input type="test" class="form-control" name="address" [(ngModel)]="model.address" >
                            
                          </div>
                        <button type="submit" [disabled]="form.invalid" class="btn btn-primary" (click)="submit()">Submit</button>
                    </div>
                      </form>
                
               
            </div>
            <div class="col-12" *ngIf="visible==2 ">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Sl.No</th>
                            <th>Patient Name</th>
                            <th>Mobile No.</th>
                            <th>Appointment Date</th>
                            <th>Address</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let patient of patientList; let i=index">
                            <td>{{i}}</td>
                            <td>{{patient.patientName}}</td>
                            <td>{{patient.mobileNo}}</td>
                            <td>{{patient.appointmentDate}}</td>
                            <td>{{patient.patientAddress}}</td>
                            <td (click)="view(template,patient)"><i class="fa-solid fa-eye"></i> View</td>
                        </tr>
                    </tbody>
                </table>
            </div>
          
        </div>
        
    </div>
</div>

<ng-template #template>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Monthly CheckUp </h4>
        <button type="button" class="btn-primary" (click)="modalRef.hide()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="container">
        <form #form="ngForm">
            <div class="row">
                <div class=" col-6 mb-3 ">
                    <label class="form-label" > Name<span class="text-danger">*</span></label>
                   <input type="text" class="form-control" name="name" value="{{monthly_checkUp.patientName}}">
                  
                </div>
                <div class=" col-6 mb-3 ">
                    <label class="form-label" > Mobile No<span class="text-danger">*</span></label>
                   <input type="text" class="form-control" name="no" value="{{monthly_checkUp.mobileNo}}" >
                  
                </div>
                <div class=" col-6 mb-3 ">
                    <label class="form-label" > Date<span class="text-danger">*</span></label>
                   <input type="date" class="form-control" name="date" >
                  
                </div>
            <div class=" col-6 mb-3">
              <label  class="form-label">Cholestrol </label>
              <input type="test" class="form-control"  >
               
            </div>
            <div class="col-6 mb-3">
              <label  class="form-label">Wieght </label>
              <input type="text" class="form-control"  >
              
            </div>
            
            <div class=" col-6 mb-3">
                <label  class="form-label">Blood Sugar</label>
                <input type="test" class="form-control"   >
                
              </div>
              <div class=" col-6 mb-3">
                <label  class="form-label">Blood Pressure</label>
                <input type="test" class="form-control"   >
                
              </div>
              <div class="col-12">
                <button type="submit"  class="btn btn-primary m-2" >Submit</button>
              </div>
            
        </div>
          </form>
    </div>
    
</ng-template>